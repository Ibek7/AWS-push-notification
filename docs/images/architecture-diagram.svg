<svg width="800" height="400" xmlns="http://www.w3.org/2000/svg">
  <-v Background -->
  <rect width="800" height="400" fill="#f8f9fa"/>
  
  <-v Title -->
  <text x="400" y="30" fill="#333" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">AWS Push Notifications Architecture</text>
  
  <-v Android App -->
  <rect x="50" y="80" width="120" height="100" fill="#4caf50" rx="10"/>
  <text x="110" y="110" fill="#ffffff" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">📱 Android App</text>
  <text x="110" y="130" fill="#ffffff" font-family="Arial" font-size="10" text-anchor="middle">Kotlin</text>
  <text x="110" y="145" fill="#ffffff" font-family="Arial" font-size="10" text-anchor="middle">Firebase SDK</text>
  <text x="110" y="160" fill="#ffffff" font-family="Arial" font-size="10" text-anchor="middle">FCM Token</text>
  
  <-v Firebase -->
  <rect x="250" y="80" width="120" height="100" fill="#ff9900" rx="10"/>
  <text x="310" y="110" fill="#ffffff" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">🔥 Firebase</text>
  <text x="310" y="130" fill="#ffffff" font-family="Arial" font-size="10" text-anchor="middle">Cloud Messaging</text>
  <text x="310" y="145" fill="#ffffff" font-family="Arial" font-size="10" text-anchor="middle">Token Management</text>
  <text x="310" y="160" fill="#ffffff" font-family="Arial" font-size="10" text-anchor="middle">Message Delivery</text>
  
  <-v AWS Cloud -->
  <rect x="450" y="50" width="300" height="200" fill="#232f3e" rx="15"/>
  <text x="600" y="75" fill="#ffffff" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">☁️ AWS Cloud</text>
  
  <-v Lambda -->
  <rect x="470" y="90" width="100" height="70" fill="#ff9900" rx="8"/>
  <text x="520" y="115" fill="#ffffff" font-family="Arial" font-size="11" text-anchor="middle" font-weight="bold">⚡ Lambda</text>
  <text x="520" y="130" fill="#ffffff" font-family="Arial" font-size="9" text-anchor="middle">Node.js</text>
  <text x="520" y="145" fill="#ffffff" font-family="Arial" font-size="9" text-anchor="middle">Serverless</text>
  
  <-v SNS -->
  <rect x="590" y="90" width="100" height="70" fill="#ff6b6b" rx="8"/>
  <text x="640" y="115" fill="#ffffff" font-family="Arial" font-size="11" text-anchor="middle" font-weight="bold">📨 SNS</text>
  <text x="640" y="130" fill="#ffffff" font-family="Arial" font-size="9" text-anchor="middle">Topics</text>
  <text x="640" y="145" fill="#ffffff" font-family="Arial" font-size="9" text-anchor="middle">Push Delivery</text>
  
  <-v CloudWatch -->
  <rect x="470" y="170" width="100" height="60" fill="#4dabf7" rx="8"/>
  <text x="520" y="195" fill="#ffffff" font-family="Arial" font-size="11" text-anchor="middle" font-weight="bold">📊 CloudWatch</text>
  <text x="520" y="210" fill="#ffffff" font-family="Arial" font-size="9" text-anchor="middle">Monitoring</text>
  <text x="520" y="220" fill="#ffffff" font-family="Arial" font-size="9" text-anchor="middle">Logs</text>
  
  <-v SQS -->
  <rect x="590" y="170" width="100" height="60" fill="#51cf66" rx="8"/>
  <text x="640" y="195" fill="#ffffff" font-family="Arial" font-size="11" text-anchor="middle" font-weight="bold">📬 SQS</text>
  <text x="640" y="210" fill="#ffffff" font-family="Arial" font-size="9" text-anchor="middle">Message Queue</text>
  <text x="640" y="220" fill="#ffffff" font-family="Arial" font-size="9" text-anchor="middle">Retry Logic</text>
  
  <-v Arrows -->
  <-v Android to Firebase -->
  <path d="M 170 130 L 240 130" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="205" y="125" fill="#333" font-family="Arial" font-size="8" text-anchor="middle">Token</text>
  
  <-v Firebase to SNS -->
  <path d="M 370 130 L 580 130" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="475" y="125" fill="#333" font-family="Arial" font-size="8" text-anchor="middle">FCM Integration</text>
  
  <-v Lambda to SNS -->
  <path d="M 570 125 L 580 125" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <-v SNS back to Firebase -->
  <path d="M 590 150 L 380 150" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="485" y="145" fill="#333" font-family="Arial" font-size="8" text-anchor="middle">Message Delivery</text>
  
  <-v Firebase back to Android -->
  <path d="M 250 150 L 180 150" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="215" y="145" fill="#333" font-family="Arial" font-size="8" text-anchor="middle">Push</text>
  
  <-v Lambda to CloudWatch -->
  <path d="M 520 160 L 520 170" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <-v Flow steps -->
  <text x="50" y="280" fill="#333" font-family="Arial" font-size="12" font-weight="bold">Data Flow:</text>
  <text x="50" y="300" fill="#666" font-family="Arial" font-size="10">1. Android app registers with Firebase FCM</text>
  <text x="50" y="315" fill="#666" font-family="Arial" font-size="10">2. Device token subscribes to AWS SNS topic</text>
  <text x="50" y="330" fill="#666" font-family="Arial" font-size="10">3. Lambda function triggers notification</text>
  <text x="50" y="345" fill="#666" font-family="Arial" font-size="10">4. SNS publishes message to Firebase FCM</text>
  <text x="50" y="360" fill="#666" font-family="Arial" font-size="10">5. Firebase delivers push notification to device</text>
  
  <-v Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
</svg>
